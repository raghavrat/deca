(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[751],{4213:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var a={};t.r(a),t.d(a,{config:()=>s,middleware:()=>d});var i=t(6214),n=t(4968),o=t(9043);function d(e){let r=e.cookies.get("session"),t=e.nextUrl.pathname;return["/login","/signup","/forgot-password","/auth/action","/api/auth/session"].includes(t)||t.startsWith("/api/")||r?.value?o.Rp.next():o.Rp.redirect(new URL("/login",e.url))}let s={matcher:["/((?!api/auth|_next/static|_next/image|favicon.ico).*)"]};t(1938);let u={...a},l=u.middleware||u.default,c="/middleware";if("function"!=typeof l)throw Object.defineProperty(Error(`The Middleware "${c}" must export a \`middleware\` or a \`default\` function`),"__NEXT_ERROR_CODE",{value:"E120",enumerable:!1,configurable:!0});function h(e){return(0,n.O)({...e,page:c,handler:async(...e)=>{try{return await l(...e)}catch(n){let r=e[0],t=new URL(r.url),a=t.pathname+t.search;throw await (0,i.Ek)(n,{path:a,method:r.method,headers:Object.fromEntries(r.headers.entries())},{routerKind:"Pages Router",routePath:"/middleware",routeType:"middleware",revalidateReason:void 0}),n}}})}},5356:e=>{"use strict";e.exports=require("node:buffer")},5521:e=>{"use strict";e.exports=require("node:async_hooks")}},e=>{var r=r=>e(e.s=r);e.O(0,[973,64,880,153,198,457,875,535],()=>r(4213));var t=e.O();(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES).middleware_middleware=t}]);
//# sourceMappingURL=middleware.js.map