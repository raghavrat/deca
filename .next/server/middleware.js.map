{"version":3,"file":"middleware.js","mappings":"oFAAAA,CAAAA,EAAAC,OAAA,CAAAC,QAAA,0CCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,gKCGO,SAASC,EAAWC,CAAoB,EAC7C,IAAMC,EAAUD,EAAQE,OAAO,CAACC,GAAG,CAAC,WACpCC,QAAQC,GAAG,CAAC,kBAAmBJ,GAC/B,IAAMK,EAAcN,EAAQO,OAAO,CAACC,QAAQ,OAM5C,CAHqB,SAAU,UAAW,oBAAoB,CAG9CC,QAAQ,CAACH,IAAgBA,EAAYI,UAAU,CAAC,SACvDC,EAAAA,EAAYA,CAACC,IAAI,GAIrBX,GAASY,MAIPF,EAAAA,EAAYA,CAACC,IAAI,GAHfD,EAAAA,EAAYA,CAACG,QAAQ,CAAC,IAAIC,IAAI,SAAUf,EAAQgB,GAAG,EAI9D,CAGO,IAAMC,EAAS,CACpBC,QAAS,CAQP,yDACD,EC/BHC,EAAA,CACA,GAAOC,CAAI,EAEXC,EAAAF,EAAApB,UAAA,EAAAoB,EAAAG,OAAA,CACAC,EAAA,cACA,sBAAAF,EACA,+BAAuCE,EAAK,2DAE7B,SAAAC,EAAAC,CAAA,EACf,MAAW,GAAAC,EAAAC,CAAA,EAAO,CAClB,GAAAF,CAAA,CACAF,KAAAA,EACAF,QAAAA,CACA,EACA","sources":["webpack://_N_E/external commonjs \"node:async_hooks\"","webpack://_N_E/external commonjs \"node:buffer\"","webpack://_N_E/./middleware.ts","webpack://_N_E/"],"sourcesContent":["module.exports = require(\"node:async_hooks\");","module.exports = require(\"node:buffer\");","import { NextResponse } from 'next/server'\r\nimport type { NextRequest } from 'next/server'\r\n\r\nexport function middleware(request: NextRequest) {\r\n  const session = request.cookies.get('session')\r\n  console.log('Session cookie:', session)\r\n  const currentPath = request.nextUrl.pathname\r\n\r\n  // Paths that don't require authentication\r\n  const publicPaths = ['/login', '/signup', '/api/auth/session']\r\n  \r\n  // Allow public paths and API routes\r\n  if (publicPaths.includes(currentPath) || currentPath.startsWith('/api/')) {\r\n    return NextResponse.next()\r\n  }\r\n\r\n  // Redirect to login if no session exists\r\n  if (!session?.value) {\r\n    return NextResponse.redirect(new URL('/login', request.url))\r\n  }\r\n\r\n  return NextResponse.next()\r\n}\r\n\r\n// Add paths that should be protected\r\nexport const config = {\r\n  matcher: [\r\n    /*\r\n     * Match all request paths except for the ones starting with:\r\n     * - api/auth (API routes that handle authentication)\r\n     * - _next/static (static files)\r\n     * - _next/image (image optimization files)\r\n     * - favicon.ico (favicon file)\r\n     */\r\n    '/((?!api/auth|_next/static|_next/image|favicon.ico).*)',\r\n  ],\r\n} ","import \"next/dist/server/web/globals\";\nimport { adapter } from \"next/dist/server/web/adapter\";\n// Import the userland code.\nimport * as _mod from \"private-next-root-dir/middleware.ts\";\nconst mod = {\n    ..._mod\n};\nconst handler = mod.middleware || mod.default;\nconst page = \"/middleware\";\nif (typeof handler !== \"function\") {\n    throw new Error(`The Middleware \"${page}\" must export a \\`middleware\\` or a \\`default\\` function`);\n}\nexport default function nHandler(opts) {\n    return adapter({\n        ...opts,\n        page,\n        handler\n    });\n}\n\n//# sourceMappingURL=middleware.js.map"],"names":["module","exports","require","middleware","request","session","cookies","get","console","log","currentPath","nextUrl","pathname","includes","startsWith","NextResponse","next","value","redirect","URL","url","config","matcher","mod","middleware_namespaceObject","handler","default","page","nHandler","opts","adapter","C"],"sourceRoot":""}