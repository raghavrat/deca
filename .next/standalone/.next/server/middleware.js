(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{2067:e=>{"use strict";e.exports=require("node:async_hooks")},6195:e=>{"use strict";e.exports=require("node:buffer")},920:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var i={};r.r(i),r.d(i,{config:()=>s,middleware:()=>o}),r(6350);var n=r(4735),a=r(7097);function o(e){let t=e.cookies.get("session");console.log("Session cookie:",t);let r=e.nextUrl.pathname;return["/login","/signup","/api/auth/session"].includes(r)||r.startsWith("/api/")?a.xk.next():t?.value?a.xk.next():a.xk.redirect(new URL("/login",e.url))}let s={matcher:["/((?!api/auth|_next/static|_next/image|favicon.ico).*)"]},u={...i},d=u.middleware||u.default,l="/middleware";if("function"!=typeof d)throw Error(`The Middleware "${l}" must export a \`middleware\` or a \`default\` function`);function c(e){return(0,n.C)({...e,page:l,handler:d})}}},e=>{var t=t=>e(e.s=t);e.O(0,[266,669,490,316,198],()=>t(920));var r=e.O();(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES).middleware_middleware=r}]);
//# sourceMappingURL=middleware.js.map